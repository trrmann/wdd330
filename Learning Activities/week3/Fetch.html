<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      const pokemonURL = 'https://pokeapi.co/api/v2/pokemon/1';
      const pokemonOptions = {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json',
          Accept: 'application/json',
        },
      };
      fetch(pokemonURL, pokemonOptions)
        .then((response) => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.json();
        })
        .then((data) => {
          console.log('first: ', data);
          console.log('second: ', data.name);
        })
        .catch((error) => {
          console.error('There was a problem with the fetch operation:', error);
        });

      schema = {
        URL: 'https://jsonplaceholder.typicode.com',
        GET: [
          [
            { posts: 100 },
            { comments: 500 },
            { albums: 100 },
            { photos: 5000 },
            { todos: 200 },
            { users: 1 },
          ],
          ['/posts', '/posts/1', '/posts/1/comments', '/comments?postId=1'],
        ],
        POST: '/posts',
        PUT: '/posts/1',
        PATCH: '/posts/1',
        DELETE: '/posts/1',
      };

      async function getData() {
        const url = `${schema.URL}${schema.GET[1][0]}`;
        try {
          const response = await fetch(url);
          if (!response.ok) {
            throw new Error(`Response status: ${response.status}`);
          }
          console.log(response);

          const result = await response.json();
          console.log(result);
        } catch (error) {
          console.error(error.message);
        }
      }
      getData();
      async function getData2() {
        const url = `${schema.URL}${schema.GET[1][0]}`;
        const options = { method: 'GET' };
        //If the mode option is set to no-cors, then method must be one of GET, POST or HEAD.
        try {
          const response = await fetch(url, options);
          if (!response.ok) {
            throw new Error(`Response status: ${response.status}`);
          }
          console.log(response);

          const result = await response.json();
          console.log(result);
        } catch (error) {
          console.error(error.message);
        }
      }
      getData2();
      async function postData() {
        const url = `${schema.URL}${schema.POST}`;
        const options = {
          method: 'POST',
          body: JSON.stringify({ username: 'exmaple' }),
        };
        //If the mode option is set to no-cors, then method must be one of GET, POST or HEAD.
        try {
          const response = await fetch(url, options);
          if (!response.ok) {
            throw new Error(`Response status: ${response.status}`);
          }
          console.log(response);

          const result = await response.json();
          console.log(result);
        } catch (error) {
          console.error(error.message);
        }
      }
      postData();
      async function postData2() {
        const url = `${schema.URL}${schema.POST}`;
        const options = {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
          },
          // Automatically converted to "username=example&password=password"
          body: new URLSearchParams({
            username: 'example',
            password: 'password',
          }),
        };
        //If the mode option is set to no-cors, then method must be one of GET, POST or HEAD.
        try {
          const response = await fetch(url, options);
          if (!response.ok) {
            throw new Error(`Response status: ${response.status}`);
          }
          console.log(response);

          const result = await response.json();
          console.log(result);
        } catch (error) {
          console.error(error.message);
        }
      }
      postData2();
      async function postData3() {
        const url = `${schema.URL}${schema.POST}`;
        const options = {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
          },
          // Automatically converted to "username=example&password=password"
          body: new URLSearchParams({
            username: 'example',
            password: 'password',
          }),
        };
        const request = new Request(url, options);
        //If the mode option is set to no-cors, then method must be one of GET, POST or HEAD.
        try {
          const response = await fetch(request);
          if (!response.ok) {
            throw new Error(`Response status: ${response.status}`);
          }
          console.log(response);
          try {
            const response2 = await fetch(request);
            if (!response2.ok) {
              throw new Error(`Response status: ${response2.status}`);
            }
            console.log(response2);
          } catch (error) {
            console.log(`Expected Error Response status: ${error}`);
          }

          const result = await response.json();
          console.log(result);
        } catch (error) {
          console.error(error.message);
        }
      }
      postData3();
      async function postData4() {
        const url = `${schema.URL}${schema.POST}`;
        const options = {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
          },
          // Automatically converted to "username=example&password=password"
          body: new URLSearchParams({
            username: 'example',
            password: 'password',
          }),
        };
        const request = new Request(url, options);
        const request2 = request.clone();
        //If the mode option is set to no-cors, then method must be one of GET, POST or HEAD.
        try {
          const response = await fetch(request);
          if (!response.ok) {
            throw new Error(`Response status: ${response.status}`);
          }
          console.log(response);
          try {
            const response2 = await fetch(request2);
            if (!response2.ok) {
              throw new Error(`Response status: ${response2.status}`);
            }
            console.log(response2);
          } catch (error) {
            console.log(`Response status: ${error}`);
          }

          const result = await response.json();
          console.log(result);
        } catch (error) {
          console.error(error.message);
        }
      }
      postData4();
    </script>
  </body>
</html>
